---
layout: angular
title: AngularJS - Inject required directive controller into directive controller
---

<style>
  @media (min-width: 768px) {
    section { width: 46%; padding: 2%; float: left; }
  }
</style>

<h1>
  Injecting a directive controller from another directive controller
</h1>

<p>
  ...add description of problem and why you may want to inject into directive controller (ES2015 classes, for instance)...
</p>

{% capture code %}
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>

<h2>
  Injecting directive controller from a sibling directive's controller
</h2>

<form name="registerForm" register-form>
  <input name="email" ng-model="email">

  <div>
    $element.inheritedData('$formController'): <span ng-bind="register.formFromInheritedData | json"></span>}}
  </div>

  <div>
    $element.controller('form'): <span ng-bind="register.formFromControllerMethod | json"></span>}}
  </div>
</form>

<script>
  var app = angular.module('app', []);

  app.directive('registerForm', function () {
    return {
      controller: function ($element) {
        this.formFromInheritedData = $element.inheritedData('$formController');
        this.formFromControllerMethod = $element.controller('form');
      },
      controllerAs: 'register',
      require: 'form',
      bindToController: true
    }
  })
</script>
{% endcapture %}

<section>
  {{ code }}
</section>

<section>
  {% highlight html %}
    {{ code }}
  {% endhighlight %}
</section>
